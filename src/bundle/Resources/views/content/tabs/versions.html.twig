{% trans_default_domain "locationview" %}

{% if draftVersions %}
    {{ form_start(draftActionsForm, {"action": path("ez_hybrid_platform_ui_version_draft_actions", {'contentId': content.id})}) }}

    <div class="ez-list-toolbar">
        <h2 class="ez-list-toolbar-label">{{ 'locationview.versions.draft.under.edit'|trans()|desc('Draft under edit') }}</h2>
        <div class="ez-list-toolbar-tools">
            {{ form_widget(draftActionsForm.delete, {'label': 'locationview.versions.delete'|trans()|desc('Delete'), 'attr': {'class': 'ez-button ez-button-negative'}}) }}
        </div>
    </div>

    {{ include('@EzSystemsHybridPlatformUi/content/tabs/versions/table.html.twig', {'versions': draftVersions, 'form': draftActionsForm, 'isDraft': true}) }}

    {{ form_end(draftActionsForm) }}

{% endif %}

{% if publishedVersions %}
    <div class="ez-list-toolbar">
        <h2 class="ez-list-toolbar-label">{{ 'locationview.versions.published.version'|trans()|desc('Published version') }}</h2>
    </div>
    {{ include('@EzSystemsHybridPlatformUi/content/tabs/versions/table.html.twig', {'versions': publishedVersions}) }}
{% endif %}

{% if archivedVersions %}
    {{ form_start(archivedActionsForm, {"action": path("ez_hybrid_platform_ui_version_archive_actions", {'contentId': content.id})}) }}

    <div class="ez-list-toolbar">
        <h2 class="ez-list-toolbar-label">{{ 'locationview.versions.archived.versions'|trans()|desc('Archived versions') }}</h2>
        <div class="ez-list-toolbar-tools">
            {{ form_widget(archivedActionsForm.new_draft, {'label': 'locationview.versions.new.draft.selected.version'|trans()|desc('New draft based on selected version'), 'attr': {'class': 'ez-button ez-button-secondary'}}) }}
            {{ form_widget(archivedActionsForm.delete, {'label': 'locationview.versions.delete'|trans()|desc('Delete'), 'attr': {'class': 'ez-button ez-button-negative'}}) }}
        </div>
    </div>

    {{ include('@EzSystemsHybridPlatformUi/content/tabs/versions/table.html.twig', {'versions': archivedVersions, 'form': archivedActionsForm}) }}

    {{ form_end(archivedActionsForm) }}

{% endif %}
